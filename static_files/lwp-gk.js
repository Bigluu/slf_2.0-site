(function(d,f){var e=function(H){var T=H;var J=undefined;var W={};var U={0:30,1:50,2:70};var K=[0,2];var X=this;var P=undefined;var S=undefined;var ac=true;var ab=0;var I=false;var c=function(g){return"bg_level"+g};var Y=function(g,h,i){return g<h?h:g>i?i:g};var N=function(g){return T.id+"-"+g};var R=function(g){return J.rgnid2dstid[f(g).data("rgnid")]};var L=function(g){return f("#"+N("dialog-"+g))};var M=function(i){var g=new Object();if(i){g.position=S.dialog("option","position");g.width=S.dialog("option","width");g.height=S.dialog("option","height")}else{var h=f("#"+N("gk-map-container"),T).offset();h.left=h.left+f("#"+N("gk-map-container"),T).outerWidth(true);h.top=h.top-f(d).scrollTop();g.position=new Array(h.left,h.top);g.width=300;g.height="auto"}return g};var ae=function(g,h,i){f(".gk-layer-dst",T).each(function(l,j){var m=g;if(h&&j.id==N(h)){m=i}var k=f(".gk-active",j);if(k.hasClass(m)==false){f("."+m,j).addClass("gk-active");k.removeClass("gk-active")}})};var Z=function(){f(".gk-plot",T).css({top:-999999,display:"none"});f(".gk-layer-plot > div",T).removeClass("gk-active")};var aa=function(){f(".gk-plot",T).css({top:"",display:""});f(".gk-layer-plot > div",T).addClass("gk-active")};var O=function(g){ae("gk-img-c",g,"gk-img-a")};var G=function(g){ae("gk-img-b",g,"gk-img-a")};var a=function(){ae("gk-img-a",undefined,undefined);P=undefined};var b=function(i,g,o){if(i!=0){i=i>0?Math.ceil(i):Math.floor(i);var j=Y(ab+i,K[0],K[1]);if(ab!=j){var n=f("#"+N("mid"),T);n.removeClass("gk-z"+ab).addClass("gk-z"+j);f("#"+N("mc-zoom-"+ab),T).removeClass("mc-zoom-active");f("#"+N("mc-zoom-"+j),T).addClass("mc-zoom-active");var k=f("#"+N("cid"),T);var l=Q(j);var m=ad();k.css({left:-(l.a)+m.a,top:-(l.b)+m.b,width:l.a-m.a,height:l.b-m.b});var h=l.a/Q(ab).a;o.scal(h).addV(g);V(o);if(n.position().left<k.position().left){n.css("left",k.position().left)}if(n.position().top<k.position().top){n.css("top",k.position().top)}ab=j}}};var Q=function(g){var h=f("#"+N("z"+g),T);return new e.Vector(h.width(),h.height())};var ad=function(){var g=f("#"+N("gk-map-container"),T);return new e.Vector(g.width(),g.height())};var V=function(h){var g=f("#"+N("cid"),T);h.b=Y(h.b,g.position().top,g.position().top+g.height());h.a=Y(h.a,g.position().left,g.position().left+g.width());f("#"+N("mid"),T).css({top:h.b,left:h.a})};var af=function(h){if(!I){if(P!=h){P=h;var g=M(S);if(S){ac=false;S.dialog("close")}else{Z()}S=L(h).dialog("option",g).dialog("open");O(h);UnTip()}else{if(!S){S=L(h).dialog("option",M(undefined)).dialog("open");O(h);Z();UnTip()}}}};this.areaOnClickHandler=function(){af(R(this));return false};this.areaMouseOverHandler=function(){var g=R(this);if(P!=g&&!S){P=g;G(g);Tip(W[g].note,TITLE,W[g].tip,CLASS,c(W[g].level),BORDERWIDTH,0,GKDSTID,g,GKONCLICK,af)}return false};this.mapContentMouseOverAndOutHandler=function(g){if(g.target.nodeName!="AREA"){if(P&&!S){a();UnTip()}}return false};this.bodyMouseOverHandler=function(g){if(P&&!S){a();UnTip()}};this.mapContentClickHandler=function(){if(!I){if(S){S.dialog("close")}a()}return false};this.mcOnClickHandler=function(){var g=f(this).data("action");var k=f("#"+N("mid"),T);if(g[0]=="m"){var h=new e.Vector(k.position().left,k.position().top);var j=new e.Vector(g[1],g[2]).scal(U[ab]);V(h.addV(j))}else{var m=0;if(g[0]=="zl"){m=g[1]-ab}else{m=g[1]}var l=new e.Vector(f(T).width()/2,f(T).height()/2);var i=new e.Vector(k.position().left,k.position().top).scal(-1).addV(l).scal(-1);b(m,l,i)}return false};this.mouseWheelHandler=function(h,g){var j=f("#"+N("mid"),T);var k=new e.Vector(h.pageX-f("#"+N("gk-map-container"),T).offset().left,h.pageY-f("#"+N("gk-map-container"),T).offset().top);var i=new e.Vector(j.position().left,j.position().top).scal(-1).addV(k).scal(-1);b(g,k,i);return false};this.forecastCloseHandler=function(){S=undefined;if(ac){a();aa()}ac=true};this.dragStopHandler=function(){setTimeout(function(){I=false},0)};f(H).find("*").each(function(i,h){if(f(h).data("id")){h.id=N(f(h).data("id"));if(f(h).data("id")=="mid"){J=f(h).data("districts");f(h).bind({mouseover:X.mapContentMouseOverAndOutHandler,mouseout:X.mapContentMouseOverAndOutHandler,click:X.mapContentClickHandler})}}if(f(h).data("usemap")){f(h).attr("usemap","#"+N(f(h).data("usemap")))}if(f(h).data("name")){var g=N(f(h).data("name"));f(h).attr("name",g);h.id=g}if(f(h).hasClass("mc-element")){f(h).bind({click:X.mcOnClickHandler})}if(f(h).hasClass("forecast-dialog")){f(h).dialog({autoOpen:false,close:X.forecastCloseHandler,dialogClass:"ui-slf shadow"});W[f(this).data("dstid")]={tip:f(this).data("tttip"),level:f(this).data("level"),note:f(this).data("ttnote")}}if(f.browser.msie&&(h.tagName=="IMG")){if(parseInt(f.browser.version,10)<9&&((f(h).hasClass("gk-n-alpha")||f(h).hasClass("forecast-dialog-plot"))==false)){h.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+h.src+"', sizingMethod='scale')";h.src="/fragment/img/gk/gk_mouse.gif"}if(parseInt(f.browser.version,10)<8&&f(h).hasClass("forecast-dialog-plot")){f(h).next().css("margin-left",0);f(h).remove()}}});f(H).find("area").each(function(h,g){if(J.rgnid2dstid[f(g).data("rgnid")]){f(g).bind({click:X.areaOnClickHandler,mouseover:X.areaMouseOverHandler})}else{f(g).remove()}});f("body").bind({mouseover:X.bodyMouseOverHandler});f("#"+N("mid")).draggable({containment:f("#"+N("cid")),start:function(){I=true},stop:X.dragStopHandler}).bind("mousewheel",X.mouseWheelHandler)};e.Vector=function(a,b){this.a=a;this.b=b;this.scal=function(c){this.a=c*this.a;this.b=c*this.b;return this};this.addV=function(c){this.a+=c.a;this.b+=c.b;return this};this.add=function(c,h){this.a+=c;this.b+=h;return this};this.clon=function(){return new e.Vector(this.a,this.b)}};if(typeof d.lwp=="undefined"){d.lwp={}}d.lwp.gk={dynmap:function(a){new e(a)}}})(window,jQuery);

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92556794-3', 'auto');
  ga('send', 'pageview');
